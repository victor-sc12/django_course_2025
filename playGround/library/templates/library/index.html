{% extends 'base.html' %}
{% load static %}
{% block titulo %}Index | Library{% endblock %}

{% block content %}

<form action="" method="get">
    <input type="text" name="query_search" placeholder="Buscar por título o autor" value="{% if query %}{{query}}{% endif %}">
    <input type="date" name="start" value="{{request.GET.start}}">
    <input type="date" name="end" value="{{request.GET.end}}">
    <button type="submit">buscar</button>
</form>

<ul>
    {% for libro in libros %}
        <li>{{libro.title}} | {{libro.autor.name}} | {{libro.publication_date}}</li>
    {% endfor %}
</ul>
<nav>
    {% if libros.has_previous %}
        <a href="?page=1&{{query_string}}">First Page</a>
        <a href="?page={{libros.previous_page_number}}&{{query_string}}">Anterior</a>
    {% endif %}

    <span>Página {{libros.number}} de {{libros.paginator.num_pages}}</span>
    
    {% if libros.has_next %}
        <a href="?page={{libros.next_page_number}}&{{query_string}}">Next Page</a>
        <a href="?page={{libros.paginator.num_pages}}&{{query_string}}">Last Page</a>
    {% endif %}
</nav>

{% endblock %}